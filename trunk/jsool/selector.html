<html>
<head>
	<title>Tester</title>
	
	<!-- <link rel="stylesheet" type="text/css" href="css/core.css"> -->
	
	<script type="text/javascript" src="js/core/Main.js"></script>
	<script type="text/javascript" src="js/core/Browser.js"></script>
	<script type="text/javascript" src="js/core/Object.js"></script>
	<script type="text/javascript" src="js/core/Number.js"></script>
	<script type="text/javascript" src="js/core/Array.js"></script>
	<script type="text/javascript" src="js/core/String.js"></script>
	<script type="text/javascript" src="js/core/Exception.js"></script>
	
	<script type="text/javascript" src="js/util/Collection.js"></script>
	<script type="text/javascript" src="js/util/MixedCollection.js"></script>
	<script type="text/javascript" src="js/util/List.js"></script>
	<script type="text/javascript" src="js/util/ArrayList.js"></script>
	<script type="text/javascript" src="js/util/LinkedList.js"></script>
	<script type="text/javascript" src="js/util/HashSet.js"></script>
	<script type="text/javascript" src="js/util/Map.js"></script>
	<script type="text/javascript" src="js/util/HashMap.js"></script>
	<script type="text/javascript" src="js/util/ReferenceMap.js"></script>
	<script type="text/javascript" src="js/util/StringBuilder.js"></script>
	<script type="text/javascript" src="js/util/Locale.js"></script>
	<script type="text/javascript" src="js/util/Serializable.js"></script>
	<script type="text/javascript" src="js/util/Observable.js"></script>
	<script type="text/javascript" src="js/util/DateFormat.js"></script>
	
	<script type="text/javascript" src="js/html/DomQuery.js"></script>
	<script type="text/javascript" src="js/html/Element.js"></script>
	
	<script type="text/javascript" src="yass.js"></script>
	<script type="text/javascript" src="sizzle.js"></script>
	<script type="text/javascript" src="Sly.js"></script>
	
	
	
	<script type="text/javascript">
	jsool.onReady(function(){
		var selectors = [
		     			'table',
		     			'table.a',
		     			'.a',
		     			'table[class]',
		     			'table.a tr',
		     			'table tr.b',
		     			'table tr .c',
		     			'table tr',
		     			'table tr td',
		     			'table.b tr.b td.c',
		     			'.b'];
		     		var results={};

		     		var engines = [{
		     			name:'jsool',
		     			fn:function(selector){return js.html.DomQuery.query(selector,document);}
		     		},{
		     			name:'Sizzle',
		     			fn:function(selector){return Sizzle(selector,document);}
		     		},{
		     			name:'yass',
		     			fn:function(selector){return _(selector,document,true);}
		     		},{
			     		name:'Sly',
			     		fn:function(selector){return Sly.search(selector);}
			     	}];
console.profile();
		     		//For each selector
		     		var res,start;
		     		for(var s = 0, selector; selector = selectors[s++];){

		     			if(!results[selector])results[selector]={};
		     			
		     			//For each engine
		     			for(var e=0, engine;engine=engines[e++];){
		     				start = +new Date;
		     				//The real test
		     				for(var i = 1000;i--;){
		     					res = engine.fn(selector);
		     				}
		     				results[selector][engine.name]={time:(+new Date)-start,results:res}; 
		     			}
		     		}
		     		console.profileEnd();

		     		var table = ['<table>'];
		     		var out;
		     		var selec;
		     		var eng;		     		
		     		for(var sel in results){
			     		table.push('<tr>');

			     		table.push('<td>');
			     		table.push(sel);
			     		table.push('</td>');
			     		selec = results[sel];

			     		for(var en in selec){
			     			eng = selec[en];
				     		table.push('<td>');
				     		table.push(eng.time)
				     		table.push('</td>');
				     	}

			     		table.push('</tr>');
			     	}
		     		table.push('</table>');

		     		document.getElementsByTagName('body')[0].innerHTML = table.join('');
	});
	</script>

</head>
<body>
	<table class="a">
		<tr class="b">
			<td>bla bla bla bla bla bla bla</td>
		</tr>
		<tr>
			<td class="c">bla bla bla bla bla bla bla</td>
		</tr>
		<tr class="b">
			<td>bla bla bla bla bla bla bla</td>
		</tr>
		<tr class="b">
			<td class="c">bla bla bla bla bla bla bla</td>
		</tr>
	</table>	
	<table class="b">
		<tr class="b">
			<td>bla bla bla bla bla bla bla</td>
		</tr>
		<tr>
			<td class="c">bla bla bla bla bla bla bla</td>
		</tr>
		<tr class="b">
			<td>bla bla bla bla bla bla bla</td>
		</tr>
		<tr class="b">
			<td class="c">bla bla bla bla bla bla bla</td>
		</tr>
	</table>
	<table>
		<tr class="b">
			<td>bla bla bla bla bla bla bla</td>
		</tr>
		<tr>
			<td class="c">bla bla bla bla bla bla bla</td>
		</tr>
		<tr class="b">
			<td>bla bla bla bla bla bla bla</td>
		</tr>
		<tr class="b">
			<td class="c">bla bla bla bla bla bla bla</td>
		</tr>
	</table>
</body>
</html>